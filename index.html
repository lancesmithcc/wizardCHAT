<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>WizardCHAT - Mystical AI Wizard Memes & Magic Chat | Free Online Wizard Simulator</title>
    <meta name="description" content="Chat with a mystical AI wizard! Get magical advice, wizard memes, and enchanted responses. Free online wizard simulator with astrology, spells, and mystical wisdom. Perfect for fantasy lovers and magic enthusiasts.">
    <meta name="keywords" content="wizard chat, wizard memes, AI wizard, magic chat, mystical AI, wizard simulator, fantasy chat, magical advice, astrology chat, spell casting, wizard quotes, magical memes, enchanted chat, fantasy AI, mystic wisdom, wizard game, magical chatbot, Harry Potter style chat, fantasy roleplay, wizard ascii art">
    <meta name="author" content="WizardCHAT">
    <meta name="robots" content="index, follow">
    <meta name="language" content="en">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="WizardCHAT - Mystical AI Wizard Memes & Magic Chat">
    <meta property="og:description" content="Chat with a mystical AI wizard! Get magical advice, wizard memes, and enchanted responses. Free online wizard simulator with astrology and spells.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wizardchat.netlify.app">
    <meta property="og:image" content="https://wizardchat.netlify.app/wizard-preview.png">
    <meta property="og:site_name" content="WizardCHAT">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WizardCHAT - Mystical AI Wizard Memes & Magic Chat">
    <meta name="twitter:description" content="Chat with a mystical AI wizard! Get magical advice, wizard memes, and enchanted responses. Free online wizard simulator.">
    <meta name="twitter:image" content="https://wizardchat.netlify.app/wizard-preview.png">
    <meta name="twitter:creator" content="@WizardCHAT">
    
    <!-- PWA Configuration -->
    <meta name="theme-color" content="#a784ea">
    <meta name="msapplication-TileColor" content="#29037c">
    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="canonical" href="https://wizardchat.netlify.app">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <meta name="application-name" content="WizardCHAT">
    <meta name="apple-mobile-web-app-title" content="WizardCHAT">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon-180x180.png">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="icons/favicon-48x48.png">
    <link rel="icon" type="image/svg+xml" href="icons/wizchatlogo.svg">
    <link rel="shortcut icon" href="favicon.png">
    
    <!-- Android Chrome Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icons/android-chrome-512x512.png">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileImage" content="icons/mstile-144x144.png">
    <meta name="msapplication-square70x70logo" content="icons/mstile-70x70.png">
    <meta name="msapplication-square150x150logo" content="icons/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="icons/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="icons/mstile-310x310.png">
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "WizardCHAT",
        "description": "Mystical AI wizard chat simulator with magical advice, wizard memes, and enchanted responses",
        "url": "https://wizardchat.lancesmith.cc",
        "applicationCategory": "Entertainment",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CAD"
        },
        "author": {
            "@type": "Organization",
            "name": "WizardCHAT"
        },
        "keywords": "wizard chat, wizard memes, AI wizard, magic chat, mystical AI, wizard simulator"
    }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KCFCFB8T2L"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-KCFCFB8T2L');
    </script>
</head>
<body>
    <div class="stars-background"></div>
    <div class="astrological-wheel"></div>
    <div class="vibrational-symbols"></div>
    <div class="container">
        <div class="header-row">
            <pre id="wizard-ascii">
         ,/   *
      _,'/_   |
      `(")' ,'/
   _ _,-H-./ /
   \_\_\.   /
     )" |  (
  __/   H   \__
  \    /|\    /
   `--'|||`--'
      ==^==
            </pre>
            <div id="wizard-title-text">
                <div class="wizard-ascii-title">
✨      88      88                                             ✨  
88      88      88                                             88  
8b      db      d8 ✨ 888888888 ,adPPYYba, 8b,dPPYba,  ,adPPYb,88  
`8b    d88b    d8' 88      a8P" ""     `Y8 88P'   "Y8 a8"    `Y88  
 `8b  d8'`8b  d8'  88   ,d8P'   ,adPPPPP88 88         8b       88  
  `8bd8'  `8bd8'   88 ,d8"      88,    ,88 88         "8a,   ,d88  
    YP      YP     88 888888888 `"8bbdP"Y8 88          `"8bbdP"Y8   
                </div>
                <div class="chat-title">CHAT</div>
            </div>
        </div>
        <div class="speech-area">
            <div id="wizard-speech-bubble" class="wizard-speech"></div>
        </div>
        <div class="chat-controls">
            <button id="mic-button" title="click here to activate the microphone - click again when you're finsihed speaking.">
                <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" d="M21,14 L19,14 L19,10 L21,10 L21,14 Z M17,16 L15,16 L15,8 L17,8 L17,16 Z M13,19 L11,19 L11,5 L13,5 L13,19 Z M9,16 L7,16 L7,8 L9,8 L9,16 Z M5,14 L3,14 L3,10 L5,10 L5,14 Z"></path> </g></svg>
            </button>
            <textarea id="chat-input" placeholder="Speak or type thy query..."></textarea>
            <button id="send-button">✨</button>
        </div>
        <div class="response-length-control">
            <label for="response-length-slider" class="response-length-label">Mystical Depth:</label>
            <div class="slider-container">
                <span class="slider-label">Cryptic</span>
                <input type="range" id="response-length-slider" min="1" max="6" value="2" step="1" class="mystical-slider">
                <span class="slider-label">Legendary</span>
            </div>
            <div class="length-indicator" id="length-indicator">Moderate Wisdom</div>
        </div>
        <div class="chat-log" id="user-chat-log">
            <!-- Chat messages will appear here -->
        </div>
    </div>
    
    <!-- Wizard Meme Modal -->
    <div id="wizard-meme-modal" class="wizard-meme-modal">
        <div class="wizard-meme-content">
            <button id="wizard-meme-close" class="wizard-meme-close" aria-label="Close meme">&times;</button>
            <div class="wizard-meme-header">
                <h3 class="wizard-meme-title">Mystical Wisdom Meme</h3>
                <p class="wizard-meme-subtitle">✨ A gift from the meme archives ✨</p>
            </div>
            <div id="wizard-meme-container">
                <!-- Meme content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- LOCAL SCRIPT - CRITICAL: Must be loaded after FAL SDK and after DOM elements are defined -->
    <script src="script.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('🎭 WizardCHAT Service Worker registered successfully:', registration.scope);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    console.log('✨ New wizard powers available! Refresh to update.');
                                    // Optionally show update notification to user
                                    if (confirm('New wizard powers are available! Would you like to refresh to get them?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.log('❌ WizardCHAT Service Worker registration failed:', error);
                    });
            });
        }
        
        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', function(e) {
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            
            // Show install button or prompt (you can customize this)
            console.log('🎭 PWA install prompt available');
            
            // Optionally show a custom install button
            setTimeout(() => {
                if (deferredPrompt && !window.matchMedia('(display-mode: standalone)').matches) {
                    const shouldInstall = confirm('✨ Install WizardCHAT as an app for the full mystical experience?');
                    if (shouldInstall) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('🎉 User accepted the PWA install prompt');
                            } else {
                                console.log('😔 User dismissed the PWA install prompt');
                            }
                            deferredPrompt = null;
                        });
                    }
                }
            }, 5000); // Show after 5 seconds
        });
        
        // Track when app is installed
        window.addEventListener('appinstalled', function(evt) {
            console.log('🎉 WizardCHAT PWA was installed successfully!');
            // Track the event if you have analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'pwa_install', {
                    'event_category': 'engagement',
                    'event_label': 'wizard_app_installed'
                });
            }
        });
    </script>
</body>
</html> 